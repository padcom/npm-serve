const{isLibraryRegistered:isLibraryRegistered,getLibraryMetadata:getLibraryMetadata,getLibraryRoot:getLibraryRoot,loadStylesheetsFromLibrary:loadStylesheetsFromLibrary,unloadStylesheetFromLibrary:unloadStylesheetFromLibrary}=(()=>{const{libraries:e,imports:t,scopes:r,config:s}=[...document.scripts].filter((e=>"libraries"===e.type)).map((e=>function(e){try{return JSON.parse(e)}catch(e){return console.error(e),null}}(e.text))).filter((e=>e)).map((e=>({libraries:u(e.libraries),imports:m(e.imports),scopes:d(e.scopes),config:e.config}))).reduce(((e,t)=>({libraries:[...e.libraries,...t.libraries],imports:{...e.imports,...t.imports},scopes:{...e.scopes,...t.scopes},config:{...e.config,...t.config}})),{libraries:[]});var n;return s.overrides&&[...new URLSearchParams(window.location.search).entries()].forEach((([t,r])=>{const s=e.find((e=>e.fullname===t));if(function(e){try{const t=new URL(e);return["http:","https:"].includes(t.protocol)}catch{return!1}}(r)){const e=new URL(r);s.isDevelopment="localhost"===e.hostname,s.cdn=e.origin,s.main=e.pathname.slice(1)||s.main,s.version=""}else s.version=r})),!s.polyfills||HTMLScriptElement.supports&&HTMLScriptElement.supports("importmap")||function(e){!0===e&&(e="https://ga.jspm.io/npm:es-module-shims@1.5.14/dist/es-module-shims.js");Array.isArray(e)||(e=[e]);e.forEach((e=>p(null,e)))}(s.polyfills),n=function(e,t,r){return{imports:{...e.map((e=>{const t=l(e.fullname),r=e.main?"/"+e.main:"";return{[e.fullname]:`${t}${r}`}})).reduce(((e,t)=>({...e,...t})),{}),...t},scopes:r}}(e,t,r),p("importmap",null,JSON.stringify(n)),{isLibraryRegistered:o,getLibraryMetadata:i,getLibraryRoot:l,loadStylesheetsFromLibrary:function(e){const t=i(e);if(t.stylesheetsLoaded)return;for(const r of t.stylesheets){const s=l(e);t.loadedStylesheets.push(a(`${s}/${r}`)),t.stylesheetsLoaded=!0}},unloadStylesheetFromLibrary:function(e){const t=i(e);if(!t.stylesheetsLoaded)return;for(const e of t.loadedStylesheets)e.remove();t.loadedStylesheets=[],t.stylesheetsLoaded=!1}};function o(t){return e.some((e=>e.fullname===t))}function i(t){if(!o(t))throw new Error(`Library ${t} not defined`);return e.find((e=>e.fullname===t))}function l(e){const t=i(e);if(t.isDevelopment)return t.cdn||s.cdn;return`${t.cdn||s.cdn}${t.fullname}${t.version?`@${t.version}`:""}`}function a(e){const t=document.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.head.appendChild(t),t}function c(e,t=0){const r=e.split("/").filter((e=>e)),s="@"===r[0][0]?r[0]:"",n=s?r[1].split("@"):r[0].split("@"),o=n[0],i=n[1]||"latest",l=s?s+"/"+o:o;return{fullname:l,scope:s,name:o,version:i,main:(s?r.slice(2):r.slice(1)).join("/"),root:`${l}${i?"@"+i:""}`,stylesheets:[],loadedStylesheets:[]}}function u(e){return e.map((e=>"string"==typeof e?c(e):{...c(e.library),stylesheets:e.stylesheets}))}function m(e={}){return e||{}}function d(e={}){return e||{}}function p(e="module",t=null,r=null){const s=document.createElement("script");e&&(s.type=e),t&&(s.src=t),r&&(s.text=r),document.head.insertAdjacentElement("beforeend",s)}})();
//# sourceMappingURL=importmap.min.js.map